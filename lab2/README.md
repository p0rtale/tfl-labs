# Нормализация regex

## Задача нормализации regex

Дано регулярное выражение и правила переписывания, содержащие переменные. <br>
Правило можно применить, если его левая часть унифицируется с некоторым подтермом регулярки. <br>
В этом случае в регулярное выражение вместо найденного подтерма подставляется правая часть правила, в которой все переменные заменены на значения,
полученные унификацией.

Применяя циклически правила, приводим выражение к нормализованному виду.

## Запуск нормализации

Запуск в корне:

```
lua lab2/src/lab2.lua < path/to/test.txt
```

Примеры тестов можно найти в lab2/tests.

## Входные данные

```
Regex
Rule
{ Rule }
```

```
Rule = Regex "=" Regex .
Regex = "(" Regex Binary Regex ")" | Symbol Unary | "(" Regex ")" Unary | Empty .
Binary = "|" | Empty .
Unary = "*" | Empty .
```

Переменными считаются строчные латинские буквы в правилах переписывания, которых нет во входном регулярном выражении.

#### Пример

```
(((((ab)|c)|(ab))a)|((aa)(a|b)))
((x|y)|x) = (x|y)
((x|y)|z) = (x|(y|z))
((x|y)z) = ((xz)|(yz))
(z(x|y)) = ((zx)|(zy))
```

Переменные: x, y, z.

#### Примечание

Пустые правила и regex не будут правильно обрабатываться.

## Выходные данные

Результатом работы программы является нормализованное регулярное выражение либо зацикливание.
